<div style="text-align:center;">
  <canvas id="make-img" height="500" width="500"></canvas>
  <script>
    var cvs = document.getElementById('make-img');
    var ctx = cvs.getContext('2d');

    ctx.translate(30, 30);
    ctx.scale(440/500,440/500);

    ctx.strokeStyle = 'gray';
    ctx.fillStyle = 'white';
    ctx.beginPath();
      ctx.moveTo(1, 51);
      ctx.lineTo(1, 449);
      ctx.arc(51, 449, 50, Math.PI, Math.PI / 2, true);
      ctx.lineTo(449, 499);
      ctx.arc(449, 449, 50, Math.PI / 2, 0, true);
      ctx.lineTo(499, 51);
      ctx.arc(449, 51, 50, 0, 1.5 * Math.PI, true);
      ctx.lineTo(51, 1);
      ctx.arc(51, 51, 50, 1.5 * Math.PI, Math.PI, true);
    ctx.stroke();
    ctx.fill();

    ctx.fillStyle = 'black';

    var phoneScreenWidth = 130;
    var phoneScreenHeight = phoneScreenWidth / 0.5634;
    var cornerRad = 10;
    var topLength = 30;
    var bottomLength = 45;
    var screenLeft = (400 - phoneScreenWidth) / 2;
    var screenTop = 32;

    ctx.save();
      ctx.translate(50,50);

      ctx.beginPath();
      ctx.rect(0,0,400,400);
      ctx.clip();

      ctx.save();
        ctx.translate(screenLeft + phoneScreenWidth / 2, screenTop + phoneScreenHeight / 2);
        var gradient = ctx.createRadialGradient(0, 0, 200, 0, 0, 0);
        gradient.addColorStop(1, 'rgb(100,200,255)');
        gradient.addColorStop(0, "white");
        ctx.fillStyle = gradient;
        ctx.beginPath(); ctx.arc(0, 0, 200, 0, 2 * Math.PI);
        ctx.fill();
      ctx.restore();

      ctx.beginPath();
        ctx.moveTo(screenLeft - cornerRad, screenTop - topLength + cornerRad);
        ctx.lineTo(screenLeft - cornerRad, screenTop + phoneScreenHeight + bottomLength - cornerRad);
        ctx.arc(screenLeft, screenTop + phoneScreenHeight + bottomLength - cornerRad, cornerRad, Math.PI, Math.PI / 2, true);
        ctx.lineTo(screenLeft + phoneScreenWidth, screenTop + phoneScreenHeight + bottomLength);
        ctx.arc(screenLeft + phoneScreenWidth, screenTop + phoneScreenHeight + bottomLength - cornerRad, cornerRad, Math.PI / 2, 0, true);
        ctx.lineTo(screenLeft + phoneScreenWidth + cornerRad, screenTop - topLength + cornerRad);
        ctx.arc(screenLeft + phoneScreenWidth, screenTop - topLength + cornerRad, cornerRad, 0, 1.5 * Math.PI, true);
        ctx.lineTo(screenLeft, screenTop - topLength);
        ctx.arc(screenLeft, screenTop - topLength + cornerRad, cornerRad, 1.5 * Math.PI, Math.PI, true);
        ctx.closePath();
      ctx.fill();

      ctx.fillStyle = 'white';
      ctx.fillRect(screenLeft, screenTop, phoneScreenWidth, phoneScreenHeight);
      var circleCenter = [screenLeft + phoneScreenWidth / 2, screenTop + phoneScreenHeight + bottomLength / 2];
      ctx.strokeStyle = 'white';
      ctx.lineWidth = 3;

      ctx.beginPath();
        ctx.arc(circleCenter[0], circleCenter[1], bottomLength / 4, 0, 2 * Math.PI);
      ctx.stroke();

      var link = document.createElement('link');
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = 'http://fonts.googleapis.com/css?family=Poiret+One';
      document.getElementsByTagName('head')[0].appendChild(link);
      
      // Trick from http://stackoverflow.com/questions/2635814/
      var image = new Image;
      image.onerror = function() {
        ctx.font = "50pt bold";
        ctx.textAlign = "center";
        ctx.strokeStyle = 'black';
        ctx.fillStyle = "black";
        ctx.font = '50px "Poiret One"';
        ctx.fillText("MOBILE", 200, screenTop + phoneScreenHeight + bottomLength + 42);
        ctx.fillText("OPTIMIZATION", 200, screenTop + phoneScreenHeight + bottomLength + 88);
      };
      image.src = link.href;
  </script>
</div>
